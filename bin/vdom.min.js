let vComponents={},makePath=function(e){const t=[];for(;e.parentNode;e=e.parentNode){const n=e.parentNode.children;if(1==n.length){t.unshift(e.nodeName);continue}let o=-1,i=0;for(const t of n)e.nodeName==t.nodeName&&(i++,e==t&&(o=i-1));let r=e.nodeName;i>1&&(r+="["+o+"]"),t.unshift(r)}return"/"+t.join("/")},delay=function(e,t){let n=0;return function(...o){clearTimeout(n),n=setTimeout(e.bind(this,...o),t||0)}};class Values{static isNumber(e){return"number"==typeof e}static isBoolean(e){return"boolean"==typeof e}static isString(e){return"string"==typeof e}static isDate(e){return"[object Date]"==toString.call(e)}static toNumber(e,t){return null==e?t:(e=Number(e),isNaN(e)?t:e)}static toBoolean(e,t){if(null==e)return t;if("boolean"==typeof e)return e;if("number"==typeof e)return 0!=e;if("string"==typeof e)try{return 1==JSON.parse(e.toLowerCase())}catch(e){}return t}static toString(e,t){if(null==e)return t;if("string"==typeof e)return e;try{return e.toString()}catch(e){}return t}static toDate(e,t){if(null==e)return t;if("[object Date]"==toString.call(e))return e;try{return new Date(e)}catch(e){}return t}static hashCode(e){if(null!=e)return 0==(e=JSON.stringify(e)).length?0:e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)}static toISODateString(e){try{return Values.isDate(e)||(e=new Date(e)),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}catch(e){}return""}static toISOTimeString(e){try{return Values.isDate(e)||(e=new Date(e)),("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}catch(e){}return""}static toISODateTimeString(e){try{return Values.isDate(e)||(e=new Date(e)),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}catch(e){}return""}static clone(e,t){return null==e?t:null!=(e=JSON.parse(JSON.stringify(e)))?e:t}}class VForExpression{constructor(e){if(""==(e=Values.toString(e,"").trim()))throw new Error("The expression must be specified.");this.$expression=e;let t=e;if(t.startsWith("(")){let e=t.indexOf(")");this.$nameExp=t.substring(0,e+1),t=t.substring(e+1).trim()}else if(t.startsWith("{")){let e=t.indexOf("}");this.$nameExp=t.substring(0,e+1),t=t.substring(e+1).trim()}else t=t.split(/\s/),this.$nameExp=t[0],t.splice(0,1),t=t.join(" ");if(!t.startsWith("in"))throw new Error("Syntax error: "+this.$expression);this.$arrayExp=t.substring(2).trim()}get arrayExpression(){return this.$arrayExp}checkVarName(e){if(e.split(/\s/).length>1)throw new Error("Syntax error: "+this.$expression);return e}execute(e,t){let n=Array.isArray(e);n||(e=Object.entries(e));for(let o=0;o<e.length;o++){let i={},r=this.$nameExp;if(r.startsWith("(")){if(r=r.substring(1,r.length-1).split(/\s*,\s*/),0==r.length)throw new Error("Syntax error: "+this.$expression);if(n){if(r[0].startsWith("{")){if(!r[0].endsWith("}"))throw new Error("Syntax error: "+this.$expression);for(let t of r[0].substring(1,r[0].length-1).split(/\s*,\s*/))i[this.checkVarName(t)]=e[o][t]}else i[this.checkVarName(r[0])]=e[o];r.length>1&&(i[this.checkVarName(r[1])]=o)}else{if(r[0].startsWith("{"))throw new Error("Syntax error: "+this.$expression);i[this.checkVarName(r[0])]=e[o][1],r.length>1&&(i[this.checkVarName(r[1])]=e[o][0]),r.length>2&&(i[this.checkVarName(r[2])]=o)}}else if(r.startsWith("{")){if(r=r.substring(1,r.length-1).split(/\s*,\s*/),0==r.length)throw new Error("Syntax error: "+this.$expression);if(!n)throw new Error("Syntax error: "+this.$expression);for(let t of r[0])i[this.checkVarName(t)]=e[o][t]}else i[this.checkVarName(r)]=e[o];t(i)}}}class VIfStatus{constructor(){this.clear()}get canIf(){return!0}get canElseIf(){return"v-if"==this.$executed||"v-else-if"==this.$executed}get canElse(){return"v-if"==this.$executed||"v-else-if"==this.$executed}get condition(){return this.$condition}markTruthy(e){this.$executed=e,this.$condition=!0}markFalsy(e){this.$executed=e,this.$condition=!1}done(){this.clear()}clear(){this.$executed=void 0,this.$condition=!1}}class VRenderContext{constructor(){this.clearIfStatus()}get ifStatus(){return this.$ifStatus}clearIfStatus(){this.$ifStatus=new VIfStatus}}class VEventHandler{constructor(e,t){let n=this,o=e.split(".");if(n.$type=o[0],o.splice(0,1),n.$modifiers=o,n.$expression=Values.toString(t,"").trim(),""==n.$type)throw Error("The event type must be specified.")}get type(){return this.$type}get modifiers(){return this.$modifiers}get lifecycleEvents(){return["bind","bound","unbind","unbound","updated"]}get isLifecycleEvent(){return-1!=this.lifecycleEvents.indexOf(this.type)}register(e){let t=this;return t.$vNode=e,t.$eventListener=function(n){let o=t.$vNode.$vApp,i={event:n,vNode:e};for(const e of t.$modifiers)"stop"==e?n.stopPropagation():"prevent"==e&&n.preventDefault();if(""==t.$expression)return;let r=o.eval(t.$expression,i,!0);if("function"==typeof r)try{r=r.apply(o,[n,e])}catch(e){}r instanceof Promise?r.then((function(){o.commit()})):o.commit()},t.$vNode.$node.addEventListener(t.type,t.$eventListener),t}unregister(){let e=this;null!=e.$eventListener&&(e.$vNode.$node.removeEventListener(e.type,e.$eventListener),e.$eventListener=void 0)}}class VNode{constructor({node:e,parentVNode:t,vApp:n,bindings:o}){let i=this;if(i.$node=e,i.$parentVNode=t,i.$nodeType=e.nodeType,i.$isReactive=!1,i.$isComponent=!1,i.$vApp=n,i.$bindings=o?Values.clone(o):{},e.nodeType==Node.ELEMENT_NODE){if(i.$nodeName=e.nodeName,null!=e.getAttribute("v-component")){const t=Values.toString(e.getAttribute("v-component"),"").trim();if(!t||!VDOM.hasComponent(t))throw Error("The specified component cannot be found: "+t);return i.$isComponent=!0,i.$componentID=t,void(i.$isActivated=!1)}i.$attributes={},i.$childVNodes=[],i.$childVNodeMap={},i.$eventHandlers=[],i.$isBound=!1;let t=!1;if(null!=e.getAttribute("v-for")){const n="v-for",o=e.getAttribute(n);i.$attributes[n]=o,i.$isReactive=!0,i.$node.removeAttribute(n),t=!0;for(const e of[":key"])i.$node.hasAttribute(e)&&(i.$attributes[e]=i.$node.getAttribute(e),i.$node.removeAttribute(e));if(null==i.$attributes[":key"])throw Error(":key must be specified.")}{const n=[];for(const o of["v-if","v-else-if","v-else"]){const r=e.getAttribute(o);if(null!=r){if(n.push(o),n.length>1)throw Error(n[0]+" and "+n[1]+" cannot be used on the same element.");i.$attributes[o]=r,i.$isReactive=!0,i.$node.removeAttribute(o),t=!0}}}if(t){if("template"!=i.$node.nodeName.toLowerCase()){i.$templateNodeName=i.$node.nodeName,i.$template=i.$node.outerHTML;let e=document.createComment("template");i.$node.parentNode.insertBefore(e,i.$node),i.$node.parentNode.removeChild(i.$node),i.$node=e,i.$nodeType=e.nodeType}}else for(const t of e.attributes)i.$attributes[t.name]=t.value,t.name.startsWith(":")?(i.$isReactive=!0,i.$node.removeAttribute(t.name)):t.name.startsWith("@")&&i.$node.removeAttribute(t.name);if(!t)for(const e of i.$node.childNodes)i.$childVNodes.push(new VNode({node:e,parentVNode:i,vApp:n,bindings:i.$bindings}))}else e.nodeType==Node.TEXT_NODE?(i.$nodeValue=e.nodeValue,/{{.*?}}/.test(e.nodeValue)&&(i.$isReactive=!0)):i.$nodeValue=e.nodeValue}get vApp(){return this.$vApp}get node(){return this.$node}get nodePath(){return makePath(this.$node)}get parent(){return this.$parentVNode}get isComponent(){return this.$isComponent}get isTemplated(){return null!=this.$template}get isTemplateElement(){return this.$nodeType==Node.ELEMENT_NODE&&"template"==this.$node.nodeName.toLowerCase()}get isReactive(){return this.$isReactive}get isBound(){return this.$isBound}get vModel(){let e=this;if(e.$nodeType==Node.ELEMENT_NODE){if(null==e.$vModel){let t=Values.toString(e.$attributes["v-model"],"");e.$vModel=t.trim()}if(""!=e.$vModel)return e.$vModel}}get hasVModel(){return null!=this.vModel}get isRoot(){return null==this.$parentVNode}get root(){for(let e=this;e;e=e.$parentVNode)if(e.isRoot)return e}findParent(e){let t=this;e=e.toLowerCase();for(const n=t.$parentVNode;n;n=n.$parentVNode)if(n.$nodeName.toLowerCase()==e)return n}on(e){let t=this.$vApp,n=this;for(const o of Object.keys(n.$attributes))if(o=="@"+e){let e=t.eval(n.$attributes[o],n.$bindings);e instanceof Promise?e.then((function(){t.commit()})):t.commit();break}}bind(){let e=this.$vApp,t=this;if(!t.$isBound&&!t.isComponent&&t.$nodeType==Node.ELEMENT_NODE&&"template"!=t.$node.nodeName.toLowerCase()){t.on("bind"),t.hasVModel&&(null==t.$updateListener&&(t.$updateListener=function(){t.update()&&(t.on("updated"),e.commit())}),"input"==t.$nodeName.toLowerCase()||"textarea"==t.$nodeName.toLowerCase()?(t.$node.addEventListener("change",t.$updateListener),t.$node.addEventListener("keyup",delay(t.$updateListener,e.keyupDelayTime))):"select"==t.$nodeName.toLowerCase()&&t.$node.addEventListener("change",t.$updateListener));for(const e of Object.keys(t.$attributes))if(e.startsWith("@")){let n=e.substring(1),o=new VEventHandler(n,t.$attributes[e]);if(o.isLifecycleEvent)continue;t.$eventHandlers.push(o.register(t))}t.$isBound=!0,t.on("bound")}}unbind(){let e=this;if(e.on("unbind"),e.$eventHandlers){for(const t of e.$eventHandlers)t.unregister();e.$eventHandlers=[]}null!=e.$updateListener&&(e.$node.removeEventListener("change",e.$updateListener),e.$node.removeEventListener("keyup",delay),e.$updateListener=void 0),e.$isBound=!1,e.on("unbound")}update(){let e=this.$vApp,t=this;if(!t.hasVModel)return;let n,o=e[t.vModel];if("input"==t.$nodeName.toLowerCase()){let e=Values.toString(t.$node.type,"").toLowerCase();if(-1!=["checkbox"].indexOf(e)){n=Values.clone(o),Array.isArray(n)||(n=Values.toString(n,"").trim().split(/\s*,\s*/));let e=Values.toString(t.$node.value),i=n.indexOf(e);t.$node.checked?-1==i&&n.push(e):-1!=i&&n.splice(i,1)}else n=Values.toString(t.$node.value)}else if("textarea"==t.$nodeName.toLowerCase())n=Values.toString(t.$node.value);else if("select"==t.$nodeName.toLowerCase())if(t.$node.multiple){n=[];for(const e of t.$node.selectedOptions){let t=Values.toString(e.value,"");-1==n.indexOf(t)&&n.push(t)}}else n=Values.toString(t.$node.value);return JSON.stringify(o)!=JSON.stringify(n)&&(e[t.vModel]=n,!0)}render(e){let t=this.$vApp,n=this;if(n.isComponent){if(n.$isActivated)return;const e=VDOM.getComponent(n.$componentID);n.$templateID=Values.toString(n.$node.getAttribute("v-template"),"").trim(),n.$templateID||(n.$templateID=e.templateID),n.$templateID||(n.$templateID=e.id);let o={};for(const[e,t]of Object.entries(n.$bindings))o[e]=t;let i=Values.toString(n.$node.getAttribute("v-properties"),"").trim();if(i&&(p=t.eval(i,n.$bindings),"object"==typeof p))for(const[e,t]of Object.entries(p))o[e]=t;let r=document.querySelector("#"+n.$templateID).content.cloneNode(!0);for(const t of r.childNodes){if(t.nodeType!=Node.ELEMENT_NODE)continue;n.$node.parentNode.insertBefore(t,n.$node),n.$node.parentNode.removeChild(n.$node),n.$node=t,n.$nodeType=t.nodeType;let i=e.createInstance(o);n.$vApp=new VApp(n.$node,i),n.$isActivated=!0,n.$vApp.init();break}}else{if(n.isRoot){if(n.$renderedHashCode===t.$state.hashCode)return;n.$renderedHashCode=t.$state.hashCode,e=new VRenderContext}if(n.$isReactive)if(n.$nodeType!=Node.ELEMENT_NODE||n.isTemplateElement)if(n.$nodeType==Node.TEXT_NODE){if("textarea"!=n.$parentVNode.$nodeName.toLowerCase()){let e=n.$nodeValue.replaceAll(/{{.*?}}/g,(function(e){return Values.toString(t.eval(e.substring(2,e.length-2),n.$bindings),"")}));n.$node.nodeValue!=e&&(n.$node.nodeValue=e)}}else(n.$nodeType==Node.COMMENT_NODE||n.isTemplateElement)&&n.renderTemplate(e);else for(const e of Object.keys(n.$attributes))if(e.startsWith(":")){let o=e.substring(1),i=t.eval(n.$attributes[e],n.$bindings);if("class"==o){if("object"!=typeof i)continue;let e=[],t=[];const o=n.$node.classList;for(const[n,r]of Object.entries(i))for(const i of n.split(/\s/))r?o.contains(i)||e.push(i):o.contains(i)&&t.push(i);t.length>0&&o.remove(...t),e.length>0&&o.add(...e);continue}if("style"==o){if("object"!=typeof i)continue;const e=n.$node.style;for(const[t,n]of Object.entries(i))e[t]!=n&&(e[t]=n);continue}n.$node.getAttribute(o)!=i&&n.$node.setAttribute(o,i)}if(n.$nodeType==Node.ELEMENT_NODE&&!n.isTemplateElement&&(n.hasVModel||"option"==n.$nodeName.toLowerCase()))if("input"==n.$nodeName.toLowerCase()){let e=Values.toString(n.$node.type,"").toLowerCase();if(-1!=["checkbox"].indexOf(e)){let e=t[n.vModel];Array.isArray(e)||(e=Values.toString(e,"").trim().split(/\s*,\s*/));let o=-1!=e.indexOf(n.$node.value);n.$node.checked!=o&&(n.$node.checked=o)}else if(-1!=["radio"].indexOf(e)){let e=Values.toString(t[n.vModel],"")==Values.toString(n.$node.value);n.$node.checked!=e&&(n.$node.checked=e)}else{let e=Values.toString(t[n.vModel],"");n.$node.value!=e&&(n.$node.value=e)}}else if("textarea"==n.$nodeName.toLowerCase()){let e=Values.toString(t[n.vModel],"");n.$node.value!=e&&(n.$node.value=e)}else if("select"==n.$nodeName.toLowerCase());else if("option"==n.$nodeName.toLowerCase()){let e=n.findParent("select");if(e&&e.hasVModel)if(e.$node.multiple){let o=t[e.vModel];Array.isArray(o)||(o=Values.toString(o,"").trim().split(/\s*,\s*/));let i=-1!=o.indexOf(Values.toString(n.$node.value));n.$node.selected!=i&&(n.$node.selected=i)}else{let o=Values.toString(t[e.vModel],"")==Values.toString(n.$node.value);n.$node.selected!=o&&(n.$node.selected=o)}}if(n.bind(),n.$nodeType==Node.ELEMENT_NODE){e.ifStatus.clear();for(const t of n.$childVNodes)t.render(e)}}}renderTemplate(e){let t=this.$vApp,n=this;if(!n.isTemplated&&!n.isTemplateElement)return;let o=n.$attributes["v-if"],i=n.$attributes["v-else-if"],r=n.$attributes["v-else"],s=n.$attributes["v-for"],a=n.$attributes[":key"];if(null==s)if(null!=o||null!=i||null!=r){let s,a;if(null!=o){if(!e.ifStatus.canIf)return void t.log.error("The v-if clause cannot be executed.");e.ifStatus.clear(),s=o,a="v-if"}if(null!=i){if(!e.ifStatus.canElseIf)return void t.log.error("The v-else-if clause cannot be executed.");s=i,a="v-else-if"}if(null!=r){if(!e.ifStatus.canElse)return void t.log.error("The v-else clause cannot be executed.");s=r,a="v-else"}let l=!1;if(e.ifStatus.condition||(l=-1==["v-if","v-else-if"].indexOf(a)||Values.toBoolean(t.eval(s,n.$bindings),!1)),l)if(n.$childVNodes.length>0)for(const t of n.$childVNodes)t.render(e);else{let t=n.createTemplateNode();if(t instanceof DocumentFragment){let e=[];for(const n of t.childNodes)e.push(n);t=e}else t=[t];for(const o of t){n.$node.parentNode.insertBefore(o,n.$node);let t=new VNode({node:o,parentVNode:n.$parentVNode,vApp:n.$vApp,bindings:n.$bindings});n.$childVNodes.push(t),t.render(e)}}else if(n.$childVNodes.length>0){for(const e of n.$childVNodes)e.remove();n.$childVNodes=[]}e.ifStatus.condition||(-1!=["v-if","v-else-if"].indexOf(a)?l?e.ifStatus.markTruthy(a):e.ifStatus.markFalsy(a):e.ifStatus.done())}else e.ifStatus.clear();else{let l=new VForExpression(s),d=t.eval(l.arrayExpression,n.$bindings),u=[],c={};l.execute(d,(function(s){let l=Values.toString(t.eval(a,s));if(null==l)return void t.log.error("Invalid key expression.");if(null!=o||null!=i||null!=r){let n,a;if(null!=o){if(!e.ifStatus.canIf)return void t.log.error("The v-if clause cannot be executed.");e.ifStatus.clear(),n=o,a="v-if"}if(null!=i){if(!e.ifStatus.canElseIf)return void t.log.error("The v-else-if clause cannot be executed.");n=i,a="v-else-if"}if(null!=r){if(!e.ifStatus.canElse)return void t.log.error("The v-else clause cannot be executed.");n=r,a="v-else"}let l=!1;if(e.ifStatus.condition||(l=-1==["v-if","v-else-if"].indexOf(a)||Values.toBoolean(t.eval(n,s),!1)),e.ifStatus.condition||(-1!=["v-if","v-else-if"].indexOf(a)?l?e.ifStatus.markTruthy(a):e.ifStatus.markFalsy(a):e.ifStatus.done()),!l)return}else e.ifStatus.clear();let d=n.$childVNodeMap[l];if(null!=d){c[l]=[];for(const t of d)u.push(t),c[l].push(t),t.render(e);return void delete n.$childVNodeMap[l]}let f=n.createTemplateNode();if(f instanceof DocumentFragment){let e=[];for(const t of f.childNodes)e.push(t);f=e}else f=[f];c[l]=[];for(const t of f){n.$node.parentNode.insertBefore(t,n.$node);let o=new VNode({node:t,parentVNode:n.$parentVNode,vApp:n.$vApp,bindings:s});u.push(o),c[l].push(o),o.render(e)}}));for(const e of Object.values(n.$childVNodeMap))for(const t of e)t.remove();n.$childVNodes=u,n.$childVNodeMap=c;let f=n.$node;for(const e of n.$childVNodes)e.$node.parentNode.insertBefore(e.$node,f.nextSibling),f=e.$node}}createTemplateNode(){let e=this;if("template"==e.$node.nodeName.toLowerCase())return e.$node.content.cloneNode(!0);let t=e.$template;-1!=["thead","tbody","tr","th","td"].indexOf(Values.toString(e.$templateNodeName,"").toLowerCase())&&(t="<table>"+t+"</table>");return document.createRange().createContextualFragment(t).querySelector(e.$templateNodeName)}remove(){let e=this;if(e.$childVNodes)for(const t of e.$childVNodes)t.remove();e.isComponent?e.$isActivated&&e.$vApp.remove():(e.unbind(),e.$node.parentNode.removeChild(e.$node),delete e.$node)}static create({node:e,vApp:t}){return new VNode({node:e,vApp:t})}}class VLog{constructor(e){this.$vApp=e}debug(e){let t=this.$vApp;["debug"].indexOf(t.logLevel)}info(e){let t=this.$vApp;["debug","info"].indexOf(t.logLevel)}warn(e){let t=this.$vApp;["debug","info","warn"].indexOf(t.logLevel)}error(e){let t=this.$vApp;["debug","info","warn","error"].indexOf(t.logLevel)}}class VApp{constructor(e,t){let n=this;n.$log=new VLog(n),n.$node=e,n.$instance=t,n.$state={names:[],values:[],hashCode:void 0}}get appPath(){if(this.$node)return makePath(this.$node)}get keyupDelayTime(){return Values.toNumber(this.$instance.keyupDelayTime,400)}get logLevel(){let e=(""+this.$instance.logLevel).toLowerCase();if(-1!=["debug","info","warn","error"].indexOf(e))return e}get log(){return this.$log}init(){let e=this;if(null!=e.$instance.methods){if("object"!=typeof e.$instance.methods)throw Error("The methods attribute must be an object.");for(const[t,n]of Object.entries(e.$instance.methods))"function"==typeof n&&(e[t]=n)}if(null!=e.$instance.data){if("function"!=typeof e.$instance.data)throw Error("The data attribute must be a function.");let t=e.$instance.data();"object"!=typeof t&&e.log.error("The data function must return an object.");for(const[n,o]of Object.entries(t))e[n]=o}const t=function(){e.$vNode=VNode.create({node:e.$node,vApp:e}),e.compute(),e.render(),"function"==typeof e.$instance.mounted&&e.$instance.mounted.apply(e)};if("function"==typeof e.$instance.created){const n=e.$instance.created.apply(e);if(n instanceof Promise)return void n.then((function(){t()}))}t()}remove(){this.$vNode.remove()}compute(){let e=this;if("object"==typeof e.$instance.computed)for(const[t,n]of Object.entries(e.$instance.computed))e[t]=n.call(e);e.$state.data={};let t={names:[],values:[]};for(const n of Object.keys(e).sort()){if(n.startsWith("$"))continue;const o=e[n];"function"!=typeof o&&(e.$state.data[n]=o,t.names.push(n),t.values.push(o))}e.$state.hashCode=Values.hashCode(t)}render(){this.$vNode.render()}eval(e,t,n){let o=this;try{let i=[],r=[];if(t)for(const[e,n]of Object.entries(t))-1==i.indexOf(e)&&(i.push(e),r.push(n));for(const[e,t]of Object.entries(o.$state.data))-1==i.indexOf(e)&&(i.push(e),r.push(t));if(null!=o.$instance.methods)for(const[e,t]of Object.entries(o.$instance.methods))-1==i.indexOf(e)&&"function"==typeof t&&(i.push(e),r.push(t));if(n){const e=function(){const e=t?Object.keys(t):[];for(let t=0;t<i.length;t++)-1==e.indexOf(i[t])&&"function"!=typeof arguments[t]&&(o[i[t]]=arguments[t])};i.push("$update"),r.push(e)}let s='"use strict";';return s+="return function("+i.join(",")+") {",s+="const $return = ("+e+");",n&&(s+="$update("+i.join(",")+");"),s+="return $return;",s+="}",Function(s).call({}).apply(o,r)}catch(e){o.log.error(e)}}commit(){this.compute(),this.render()}}class VComponent{constructor({id:e,createInstance:t,templateID:n}){let o=this;if(o.$id=Values.toString(e,"").trim(),!o.$id)throw new Error("The component-id must be specified.");if(o.$createInstance=t,"function"!=typeof o.$createInstance)throw new Error("The createInstance function must be specified.");o.$templateID=Values.toString(n,"").trim(),o.$templateID||(o.$templateID=void 0)}get id(){return this.$id}get templateID(){return this.$templateID}createInstance(e){return this.$createInstance(e)}}export class VDOM{static createApp(e,t){let n;if("string"==typeof t){const e=t;if(!VDOM.hasComponent(e))throw Error("The specified instance cannot be found: "+e);n=VDOM.getComponent(e)}for(const o of document.querySelectorAll(e)){if(o.nodeType!=Node.ELEMENT_NODE)continue;new VApp(o,n?n.createInstance():t).init()}}static addComponent(e){return!VDOM.hasComponent(e.id)&&(vComponents[e.id]=new VComponent(e),!0)}static hasComponent(e){return null!=VDOM.getComponent(e)}static getComponent(e){return vComponents[e]}static removeComponent(e){delete vComponents[e]}}